<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Favicon -->
	<link rel="shortcut icon" type="image/png" href="./assets/images/favicon.png" />

<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="./css/bootstrap.min.css">

<!-- Mapbox -->
	<script src='./js/mapbox-gl.js'></script>
	<link href='./css/mapbox-gl.css' rel='stylesheet' />
	
<!-- Custom CSS -->
	<link rel="stylesheet" href="./css/shared.css">

	<title>SAA Search</title>
</head>
<body>
	<div class="navbar box-shadow">
		<div class="container">
			<a href="#" class="navbar-brand">
				<img class="branding-logo" src="./assets/images/tia-logo-mark.svg"> <span class="d-none d-md-inline-block brand-title">Michigan State Approving Agency (SAA)</span>
			</a>
			<a class="nav-button">
				<div class="nav-text-label">MENU</div>
				<span id="nav-icon">
					<span></span>
					<span></span>
					<span></span>
					<span></span>
				</span>
			</a>
		</div>
	</div>
	<nav class="fixed-top full-screen-menu">
		<div class="flex-center">
			<ul class="nav-menu flex-column">
				<li class="nav-item delay-1"><a class="nav-link" href="./index.html">Search</a></li>
			</ul>
		</div>
	</nav>

	<div id="app-container" class="container-fluid">
		<div class="row justify-content-center">
			<div class="col-sm-10 col-12 p-0">
				<div class="container content-container">
					<div class="container-fluid content-container-form">
						<div class="row">
							<div class="container">
								<div class="row justify-content-center content-container-form-header">
									<!-- <h1 class="text-center content-container-form-header-text">School and Course Search</h1> -->
								</div>
							</div>

							<!-- <div class="container mt-4"> -->
							<div class="container">
								<div class="row">
									<div class="col-12">
										<div class="container-fluid">
											<div class="row">
												<div class="col-lg-9 col-md-8 col-12 pr-md-3 p-0">
													<input type="text" id="search" name="search" placeholder="Search..." class="col input-field" v-model="search" v-on:keyup.enter="CallMiTalentAPI">
												</div>

												<div class="col-md-2 col-8 text-center mt-md-0 mt-2">
													<button class="btn-main" v-bind:class="{'btn-loading': pending === true}" @click="CallMiTalentAPI">
														<span v-show="pending !== true">Search</span>
														<span v-cloak v-show="pending === true">Loading...</span>
													</button>
												</div>

												<div class="col-lg-1 col-md-2 col-4 mt-md-0 mt-2 text-md-center text-left">
													<button class="btn-main-icon" v-bind:class="{'btn-main-icon-open': show_filter}" @click="ToggleFilter()">
														<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
														<!-- <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-filter"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg> -->
													</button>
												</div>
											</div>

											<div class="filter-row row pl-2" v-bind:class="{'filter-row-show': show_filter}">
												<div class="col">
													<div class="row">
														<span class="filterby-text">Filter By:</span>
													</div>

													<div class="row">
														<input type="radio" name="filterby-type" id="filterby-school" class="input-radio" value="Community College" v-model="filter_type">
														<label for="filterby-school" class="input-label-radio">
															<div class="input-label-radio-status"></div>
															<!-- School -->
															Community College
														</label>

														<input type="radio" name="filterby-type" id="filterby-course" class="input-radio" value="Proprietary School" v-model="filter_type">
														<label for="filterby-course" class="input-label-radio">
															<div class="input-label-radio-status"></div>
															<!-- Course -->
															Proprietary School
														</label>

														<input type="radio" name="filterby-type" id="filterby-clear" class="input-radio" @click="MainVue.filter_type = '';" onclick="document.getElementById('filterby-clear').checked = false">
														<label for="filterby-clear" class="input-label-radio input-label-radio-clear">
															Clear Filter
														</label>
													</div>
												</div>
												<div class="col">
													<div class="row">
														<span class="filterby-text">Within ____ Miles:</span>
													</div>

													<div class="row">
														<input type="number" name="filterby-distance" id="filterby-school" class="input-field-filterby" v-model="filter_distance">
														<button class="btn-main btn-set-map-point" v-bind:class="{'btn-set-map-point-active': set_filter_distance_from}" @click="MainVue.set_filter_distance_from = !MainVue.set_filter_distance_from;">Set Map Point</button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>

								<div v-cloak class="row">
									<div class="col-xl-6 col-lg-7 col-12 results">
										<div v-show="results_filtered.length === 0" class="container-fluid">
											<div class="row justify-content-center mt-4">
												<small class="pl-3 pr-3 text-center">Use the search bar above to find schools or programs.</small>
											</div>
										</div>
										
										<div v-for="school in results_filtered" v-show="filter_type === '' || school.InstType === filter_type" class="container-fluid result" @click="SelectResult(school)" @dblclick="(school.Latitude !== null) ? FlyToLocation([school.Longitude, school.Latitude], 10) : FlyToLocation();" v-bind:data-result-id="'marker_' + school.SchoolID">
											<div class="row">
												<div class="result-icon" v-if="school.InstType === 'Proprietary School'"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg></div>
												<div class="result-icon" v-else-if="school.InstType === 'Community College'"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-book"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg></div>
												<div class="result-icon" v-else><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-inbox"><polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path></svg></div>
												
												<div class="col">
													<div class="result-name">{{school.InstName1}}</div>

													<div class="result-link" v-if="school.InstType === 'Proprietary School'"><a href="#Proprietary">Proprietary</a></div>
													<div class="result-link" v-else-if="school.InstType === 'Community College'"><a href="#Community">Community</a></div>
													<div class="result-link" v-else><a href="#Other">Other</a></div>
												</div>

												<div class="result-icon-latlong" v-if="school.Latitude !== null"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-map-pin"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg></div>
											</div>
										</div>
									</div>

									<div class="col-xl-6 col-lg-5 col-12 pl-lg-3 pr-lg-0 p-0">
										<div id="map"></div>

										<div id="map-info" class="container-fluid">
											<div class="row" v-if="!result_selected"></div>

											<div v-cloak class="row" v-if="result_selected">
												<div class="col-lg-7 col-12">
													<a v-bind:href="result_selected.URL" target="_blank" rel="noopener noreferrer" class="details-name">{{result_selected.InstName1}}</a>
													<div class="details-type">{{result_selected.InstType}}</div>
													<div class="details-address-street">{{result_selected.Address1}}<span v-if="result_selected.Address2 !== ''"> {{result_selected.Address2}}</span></div>
													<div class="details-address-csz">{{result_selected.City}}, {{result_selected.State}} {{result_selected.Zip}}</div>
												</div>
												
												<div class="col-lg-5 col-12 p-lg-0 p-0 pt-4">
													<div class="details-contact-name">{{result_selected.Contact}}</div>
													<div class="details-contact-title">{{result_selected.ContactTitle}}</div>
													<div class="details-contact-phone">
														<span v-if="result_selected.Telephone !== null">
															<a v-bind:href="'tel:' + result_selected.Telephone">{{result_selected.Telephone}}<span v-if="result_selected.TeleExt !== ''"> - {{result_selected.TeleExt}}</span></a>
														</span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>




<!-- Vue.js -->
	<script type="text/javascript" src="./js/vue.min.js"></script>

<!-- Environment JS File -->
	<script src="./environment.js"></script>

<!-- Custom JS -->
	<script src="./js/shared.js"></script>

  </body>
</html>